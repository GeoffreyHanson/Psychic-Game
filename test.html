<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Psychic-Game</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="assets/css/style.css" />
</head>
<body>


    <h1>The Psychic-Game</h1>
    <p>Guess what letter I'm thinking of!</p>
    <p id="guess"></p>
    <p id="wins">Wins: </p>
    <p id="losses">Losses: </p>
    <p id="left">Guesses left: </p>
    <p id="made">Guesses made: </p>

    <script>

// VARIABLES
var wins = 0;
var losses = 0;
var guessesLeft = 9;
var guessesMade = 0;
var strokes = "";
var string = "";

// FUNCTIONS
// Generates a random letter.
function genLetter() {    
    var letters = "abcdefghijklmnopqrstuvwxyz";

    string += letters.charAt(Math.floor(Math.random() * letters.length));
    return string;    
    
    // document.querySelectorAll("#guess").innerHTML = "Computer's choice: " + string;
}


console.log(genLetter());

// Logs keystrokes & checks for match
document.onkeyup = function(event) {
    strokes += (event.key);
    console.log(strokes);
    
    if (string === strokes) {
        wins += 1;
        document.querySelector("#wins").innerHTML = "Wins:" + wins;
        console.log("You win!"); 
        guessesLeft = 9;  
        console.log(genLetter());             
    }   else {
            guessesLeft -= 1;
            console.log(guessesLeft);
            // document.querySelector("#guessesLeft").innerHTML = "Guesses left:" + guessesLeft;
            if (guessesLeft < 1) {
                losses += 1;
                console.log("You lose!");
                // document.querySelector("#losses").innerHTML = "Losses" + losses;
                guessesLeft = 9;
                genLetter();
            }
        }
    
    strokes = "";
}


</script>
</body>
</html>